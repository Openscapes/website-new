<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Julie Lowndes">
<meta name="dcterms.date" content="2019-03-10">

<title>Openscapes - [Sea]side Chats for data workflows</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/favicon/favicon_fullres.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: #333333;
      }

      .quarto-title-block .quarto-title-banner {
        color: #333333;
background: #F8D98F;
      }
</style>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/logo/openscapes_hex_badge.png" alt="A stylized landscape showing rolling hills in different shades of orange, with purple flowers along the ridgelines. Subtle gridlines on the hills and circle packing in the flowers give a nod to data in the environment." class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">HOME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../approach.html" rel="" target="">
 <span class="menu-text">APPROACH</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-about" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">ABOUT</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-about">    
        <li>
    <a class="dropdown-item" href="../../about.html" rel="" target="">
 <span class="dropdown-text">ABOUT US</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../team.html" rel="" target="">
 <span class="dropdown-text">OUR TEAM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../resources.html" rel="" target="">
 <span class="dropdown-text">OPEN RESOURCES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../media.html" rel="" target="">
 <span class="dropdown-text">MEDIA</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../code-of-conduct.html" rel="" target="">
 <span class="dropdown-text">CODE OF CONDUCT</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-initiatives" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">INITIATIVES</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-initiatives">    
        <li>
    <a class="dropdown-item" href="../../initiatives.html" rel="" target="">
 <span class="dropdown-text">ALL INITIATIVES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#champions-program" rel="" target="">
 <span class="dropdown-text">CHAMPIONS PROGRAM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#nasa-openscapes" rel="" target="">
 <span class="dropdown-text">NASA OPENSCAPES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#nmfs-openscapes" rel="" target="">
 <span class="dropdown-text">NOAA FISHERIES OPENSCAPES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#mentors-framework" rel="" target="">
 <span class="dropdown-text">MENTORS FRAMEWORK</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#pathways-to-open-science-program" rel="" target="">
 <span class="dropdown-text">PATHWAYS TO OPEN SCIENCE PROGRAM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#reflections-program" rel="" target="">
 <span class="dropdown-text">REFLECTIONS PROGRAM</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html" rel="" target="">
 <span class="menu-text">BLOG</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-connect" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">CONNECT</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-connect">    
        <li>
    <a class="dropdown-item" href="../../connect.html" rel="" target="">
 <span class="dropdown-text">CONNECT WITH US</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../events.html" rel="" target="">
 <span class="dropdown-text">EVENTS</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/openscapes" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://fosstodon.org/@openscapes" rel="" target=""><i class="bi bi-mastodon" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:hello@openscapes.org" rel="" target=""><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml" rel="" target=""><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page">
      <h1 class="title">[Sea]side Chats for data workflows</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">blog</div>
                <div class="quarto-category">champions</div>
                <div class="quarto-category">coding</div>
                <div class="quarto-category">how-we-work</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Julie Lowndes </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 10, 2019</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block column-page" id="quarto-document-content">




<section id="seaside-chats-for-data-workflows" class="level1">
<h1>[Sea]side Chats for data workflows</h1>
<p><em>Seaside Chats. Bluffside Chats. Fishbowl Chats. Bayside Chats. This is where we discuss data workflows in the lab.</em></p>
<p><strong>Running list of Champions teams’ <a href="https://github.com/Openscapes/seaside-chats">Seaside Chats</a></strong></p>
<hr>
<p>One of the long-term goals of Openscapes is to change the culture about how we work with data — and that requires normalizing even <em>talking</em> about data. We need to be able to have meaningful conversations about data and data workflows: the strategies, the struggles, the successes.</p>
<p>In our Champions Cohort Calls, we aim to create a space where we can safely present ideas, learn from each other, and discuss together — and then seed these ideas in our labs, and ultimately our departments, universities, and beyond. This requires deliberately setting a friendly and constructive tone in these gatherings, and leading by example (see blog about <a href="https://www.openscapes.org/blog/2019/02/19/rstudioconf/">RStudio Conference culture</a>).</p>
<p>To put this to immediate practice, the main assignment for the Openscapes Champions program is for labs to have weekly meetings to deliberately discuss data workflows, develop overlapping skillsets, create shared systems for their labs, and cultivate an open culture in the lab. These meetings are called “[Sea]side Chats”.</p>
<p>The idea and name for Seaside Chats came from the Ocean Health Index team, circa 2015. Although we already had weekly lab meetings with our PI (principal investigator) to talk about science, we additionally needed a time to talk about <em>how</em> we were going to do the science. We needed a place to talk about, develop, and share ideas and data workflows, and also realized it would be super helpful for onboarding new lab members. Our PI didn’t need to come talk operations with us — we all know PIs do not need more meetings — but we had agency to start them, and he valued and encouraged them. They would be standing events on our calendar. Yes, these were going to be meetings, but they were going to be informal and lighthearted, so they would be “chats” rather than “meetings”. Like President Roosevelt’s <a href="https://en.wikipedia.org/wiki/Fireside_chats">Fireside Chats</a>. But we are not by the fire, but we are by the sea. So they would be Seaside Chats.</p>
<p><strong>Now, the Openscapes labs have started Bluffside Chats at UC Santa Barbara, Fishbowl Chats at Rutgers, and Bayside Chats at University of Washington.</strong> They are a dedicated time created to not only discuss and strengthen data workflows, but also to strengthen lab culture. And what what is super cool is that seeding open culture is actually happening! This was captured in <a href="http://pinsky.marine.rutgers.edu/fishbowl-chat-1/">Michelle Stuart’s blog about the Pinsky Lab</a>:</p>
<div class="blockquote-blue">
<blockquote class="blockquote">
<p><em>“This open communication has leaked into the general discussion going on in our open work space. Lab members seem more comfortable with asking teammates for help, and it is exciting to see all of us getting on the same page with our data science.”</em></p>
</blockquote>
</div>
<section id="seaside-chat-topics" class="level2">
<h2 class="anchored" data-anchor-id="seaside-chat-topics">Seaside Chat topics</h2>
<p>So what goes on in these Seaside chats? They are discussions that start with a specific topic that a rotating lead person has prepared. For the Ocean Health Index, we try to set next week’s topic at the current week’s Seaside Chat, although in reality sometimes we set it just the day before. Topics most often start with the current state of things for individuals in the lab, and end with how to streamline workflows as a lab and learn from each other. They can start off as discussions and end as more “hackathons” where we actually set up folder structure or servers and practice with each other.</p>
<p>Examples include:</p>
<ul>
<li>where do we all keep our data? Here’s how our server works</li>
<li>how we all share code with our PI, and each other?</li>
<li>let’s discuss <a href="https://ropensci.org/blog/2017/12/08/rprofile-jenny-bryan/">this interview with Jenny Bryan</a></li>
<li>let’s skill-share lab-specific techniques (genomics packages, etc)</li>
<li>I have some code on X technique/stats/model I’d love to walk through</li>
<li>I’m making a figure and would love feedback</li>
<li>let’s add short README files accompanying folders of data so we know what the heck things are</li>
<li>let’s watch <a href="https://www.rstudio.com/resources/webinars/collaboration-and-time-travel-version-control-with-git-github-and-rstudio/">this webinar about time travel with RStudio &amp; GitHub</a></li>
<li>can you show us how to set up the Zotero citation software with RMarkdown</li>
<li>filepath woes: use .Rprojects</li>
<li>filepath woes 2: use the new <code>here</code> package in R!</li>
<li>let’s plan a lab “hackathon” to move these .xls to .csv files we store on GitHub</li>
</ul>
<p>There are endless topics and no single place to start. Again, from <a href="http://pinsky.marine.rutgers.edu/fishbowl-chat-1/">Michelle’s blog</a>:</p>
<div class="blockquote-blue">
<blockquote class="blockquote">
<p><em>“We began by explaining the difference between git and GitHub and then had a 20 minute group discussion about what we should be putting on GitHub and how we wanted to use it as a group tool.<em><br><br> </em>We spent the rest of the hour in breakout groups addressing different obstacles people faced as beginner GitHub users. One group was creating accounts, one group was connecting to the pinskylab organization, and another was connecting RStudio to GitHub.<em><br><br> </em>It was great to see people migrating from group to group as issues were solved. By the end of our time together, it seemed like everyone had a good handle on using GitHub to share work with the rest of the team.”</em></p>
</blockquote>
</div>
<p>Similarly, in Bayside Chats, the Wood Lab has met to discuss reproducible research, have a git/GitHub+RStudio tutorial, and chat about how to integrate the lab Google Drive with people’s (new) GitHub repos. The Wood Lab’s Danielle Claar described this process:</p>
<div class="blockquote-blue">
<blockquote class="blockquote">
<p><em>“[In Bayside Chats], we are thinking about how to build redundancy in our lab for knowledge about reproducible research tools.”</em></p>
</blockquote>
</div>
<p>In Bluffside Chats at UCSB, Allison Horst and Jessica Couture did a self-audit of how they were organizing and sharing materials for the courses they teach. They realized they could streamline where things lived to increase efficiency with working with each other, but also so that students would have one go-to place to find everything they need. Leaving the first Bluffside Chat with a solid plan, they have been putting this plan into practice in subsequent weeks.</p>
</section>
<section id="towards-shared-practices" class="level2">
<h2 class="anchored" data-anchor-id="towards-shared-practices">Towards shared practices</h2>
<p>Building from discussions in Fishbowl Chats, the <a href="https://github.com/pinskylab/pinskylab_methods/blob/master/cookbook.md#pinsky-lab-cookbook">Pinsky Lab Cookbook</a> is an online resource with “recipes” for working in the lab together. They include topics like adding undergraduates to the lab GitHub organization, how to install an older version of an R package, and how to set up video conferencing. Instead of teaching these things individually in person or through email, the Cookbook is a living document that all lab members know of and use as a resource, and they can update with more tips and workflows as needed. The idea was inspired by the <a href="https://bbc.github.io/rcookbook/">BBC Visual and Data Journalism Cookbook for R Graphics</a>; all teams need shared resources and practices to work together!</p>
</section>
<section id="what-makes-successful-seaside-chats" class="level2">
<h2 class="anchored" data-anchor-id="what-makes-successful-seaside-chats">What makes successful Seaside Chats?</h2>
<p>Thinking about what makes successful Seaside Chats, I came up with the following:</p>
<ol type="1">
<li><p>They should be fun and empowering. They are not meant to just add another meeting to your life, but to learn and share ways that will make everyone’s data experiences way more awesome. Mix up the topics and lead person so that there is a diversity of discussions and styles, but it’s up to everyone to come engaged and interested to learn together.</p></li>
<li><p>Have Chats scheduled on the calendar as standing meetings. They can be canceled/reshuffled if needed, but having them as a weekly opportunity to discuss data questions is important not only to discuss data together, but to bond as a lab.</p></li>
<li><p>Have a topic set in advance. There should be a purpose when you start the meeting, even if someone is prepared only to show something that takes 10 minutes: that will be an important 10 minutes and it will spark conversations beyond. The lead person could have been chosen: “hey could you show us that new package you’re using?” or self-nominated: “I’ve just figured out how to make this plot interactive, let me show you”.</p></li>
<li><p>Leverage technology as needed: sometimes we use a monitor/projector, or even use Zoom video conferencing software (even if we’re all sitting together) so we can screenshare on personal laptops so that everyone can see what is being demonstrated. It can be useful to take group notes in a Google Doc — see next.</p></li>
<li><p>Keep a list of the topics you’ve discussed. Not only does this show accomplishment of what you’ve covered, it can be useful to revisit if you’re onboarding new lab members; where were those notes with links to that cool package we learned?</p></li>
</ol>
<p>But definitely always keep the first point in mind: these should be fun and empowering for individuals and the lab as a whole. Seaside, Bluffside, Fishbowl, and Bayside Chats, I can’t wait for more to come. There is so much awesome stuff to learn: let’s talk about it together.</p>
<p><br></p>
<p><img src="../../img/blog/mrlowndes_DSC01492.jpg" width="300px"><br>
Photo by Elliot Lowndes</p>
<!---
Danielle: 
We’ve had one lab meeting (Intro to Reproducible Research), and two Bayside Chats (first was a git/github+RStudio tutorial, second was chatting about several things, including integrating the lab Google Drive with people’s (new) GitHub repos). They’ve gone really well so far. One thing I’ve been thinking about is the need to have set topics (+ time for discussion about whatever) for at least the next couple of months to build momentum and get people consistently engaged in the process. Basically, I think if I just hold a chat/AMA each week, we’ll probably lose momentum. With your chats, how often did you have set topics, and how often did you ‘just’ gather together? Did this change over time at all?

The other thing I’ve been thinking about is how to build redundancy in our lab for knowledge about reproducible research tools. Right now I’m the person with the most experience, and everyone else is excited to learn (but many are just starting out and it can seem a bit overwhelming at first!).
--->


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Openscapes is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attributions 4.0 International License</a></div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This website is built with <i class="fa-solid fa-heart" title="a heart" aria-label="heart"></i> and <a href="https://quarto.org/">Quarto</a></div>
  </div>
</footer>



</body></html>