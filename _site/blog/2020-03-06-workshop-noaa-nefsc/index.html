<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Julie Lowndes">
<meta name="dcterms.date" content="2020-03-06">

<title>Openscapes - Our first Openscapes Workshop</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/favicon/favicon_fullres.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: #333333;
      }

      .quarto-title-block .quarto-title-banner {
        color: #333333;
background: #F8D98F;
      }
</style>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/logo/openscapes_hex_badge.png" alt="A stylized landscape showing rolling hills in different shades of orange, with purple flowers along the ridgelines. Subtle gridlines on the hills and circle packing in the flowers give a nod to data in the environment." class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">HOME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../approach.html"> 
<span class="menu-text">APPROACH</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-about" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">ABOUT</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-about">    
        <li>
    <a class="dropdown-item" href="../../about.html">
 <span class="dropdown-text">ABOUT US</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../team.html">
 <span class="dropdown-text">OUR TEAM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../resources.html">
 <span class="dropdown-text">OPEN RESOURCES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../media.html">
 <span class="dropdown-text">MEDIA</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../code-of-conduct.html">
 <span class="dropdown-text">CODE OF CONDUCT</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-initiatives" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">INITIATIVES</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-initiatives">    
        <li>
    <a class="dropdown-item" href="../../initiatives.html">
 <span class="dropdown-text">ALL INITIATIVES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#champions-program">
 <span class="dropdown-text">CHAMPIONS PROGRAM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#nasa-openscapes">
 <span class="dropdown-text">NASA OPENSCAPES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#nmfs-openscapes">
 <span class="dropdown-text">NOAA FISHERIES OPENSCAPES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#mentors-framework">
 <span class="dropdown-text">MENTORS FRAMEWORK</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#pathways-to-open-science-program">
 <span class="dropdown-text">PATHWAYS TO OPEN SCIENCE PROGRAM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#reflections-program">
 <span class="dropdown-text">REFLECTIONS PROGRAM</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">BLOG</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-connect" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">CONNECT</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-connect">    
        <li>
    <a class="dropdown-item" href="../../connect.html">
 <span class="dropdown-text">CONNECT WITH US</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../events.html">
 <span class="dropdown-text">EVENTS</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/openscapes"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://fosstodon.org/@openscapes"> <i class="bi bi-mastodon" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:hello@openscapes.org"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page">
      <h1 class="title">Our first Openscapes Workshop</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">blog</div>
                <div class="quarto-category">champions</div>
                <div class="quarto-category">coding</div>
                <div class="quarto-category">noaa-fisheries</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-page">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Julie Lowndes </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 6, 2020</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block column-page" id="quarto-document-content">





<p><em>Last week Openscapes had its first-ever in-person 2-day workshop (the <a href="https://www.openscapes.org/blog/2019/01/28/introducing-champions-program/">Champions Program is remote-by-design</a> so this was an in-person adaptation). The workshop was at the National Oceanic and Atmospheric Administration (NOAA) with six teams of fisheries scientists from NOAA’s Northeast Fisheries Science Center (NEFSC), Woods Hole Oceanographic Institute (WHOI), and University of Massachusetts Dartmouth’s School for Marine Science &amp; Technology (SMAST). It was really wonderful to meet and work with these thoughtful scientists in person, and to see them leave the workshop energized to strengthen teamwork and community-based learning around open data science. This post will focus on what the participants did and achieved and a following post will include more details about the workshop structure.</em></p>
<hr>
<!---
- Scott mustache tag
- What does Open Science mean to you?:
  - Open science makes it easier for you to repeat/continue your work if you come back to it months or years later, and for others to contribute
- I'm lucky because I get to learn in my job
--->
<section id="what-is-an-openscapes-workshop" class="level2">
<h2 class="anchored" data-anchor-id="what-is-an-openscapes-workshop">What is an Openscapes Workshop?</h2>
<p>Openscapes Workshops convene science teams for two days with the purpose empowering folks with open data science, and strengthening mindsets and habits to make data workflows and team culture more efficient and resilient. Workshops are a 2-day version of the <a href="https://openscapes.org/champions">Openscapes Champions program</a>, and uses its <a href="https://openscapes.github.io/series/">Lesson Series</a> to help scientists <a href="https://www.nature.com/articles/d41586-019-03335-4">supercharge their research</a>.</p>
<p>Participants attend as teams, and come prepared for engaged participation as a whole group and within smaller groups. Discussions focus around collaborative mindsets, norms, and software to enable open and collaborative work, with a heavy emphasis on R (including tidyverse, RMarkdown), GitHub (Issues), Google Drive, and Twitter. Teams intentionally have a mix of data/coding experience and responsibilities; there are no coding prerequisites for this workshop.</p>
</section>
<section id="our-openscapes-workshop-at-noaa-woods-hole" class="level2">
<h2 class="anchored" data-anchor-id="our-openscapes-workshop-at-noaa-woods-hole">Our Openscapes Workshop at NOAA Woods Hole</h2>
<p><a href="https://twitter.com/ScottLarge_">Dr.&nbsp;Scott Large</a>, the Ecosystems Dynamics &amp; Assessment Branch Chief at NOAA’s NEFSC, made this workshop happen. He reached out to me after following Openscapes on Twitter and asked if I could do a 2-day workshop version of the Champions Program. He secured workshop funding, organized everything, and rallied six local teams of awesome scientists to participate at our workshop in Woods Hole, Massachusetts.</p>
<p>The two best outcomes of the workshop were first that teams left motivated to focus on creating more deliberate, collaborative, open workflows within their team, and second, that they saw other teams as future colleagues, collaborators, and allies for fisheries open data science (!) and have plans to continue building this community.</p>
<div class="blockquote-blue">
<blockquote class="blockquote">
<p><em>“Having a full two days with space to talk about how we work was invaluable. I was so pleased with how energized and engaged my team was throughout. I loved the opportunity to talk, work and learn cross-teams.”</em> <strong>— Post-workshop survey</strong></p>
</blockquote>
</div>
<!--break-->
<div class="blockquote-blue">
<blockquote class="blockquote">
<p><em>“Openscapes had a powerful motivating impact on some of the practices of open science I already knew about but felt behind the curve on tackling. Finding fellow coworkers who are equally motivated and already implementing these practices gave me a support team to work with moving forward.”</em> <strong>— Post-workshop survey</strong></p>
</blockquote>
</div>
<br>
<center>
<img src="../../img/blog/nefsc_workshop_breakout.jpg" width="800px">
<figcaption>
Throughout the workshop participants met in small groups to discuss how topics covered applied to their work. They met as semi-random Breakout Groups to cross-pollinate across teams, as well as with with their own Research Groups.
</figcaption>
</center>
<p><br></p>
<p>All six teams at our workshop work in the realm of fisheries science and management, and as a whole they already have quite a bit of momentum in open data science. But many of these folks hadn’t had recent discussions around shared workflows and practices within their teams or how to onboard team members, and also didn’t necessarily know people from other teams that were working on similar topics or with similar approaches.</p>
</section>
<section id="what-did-we-do" class="level2">
<h2 class="anchored" data-anchor-id="what-did-we-do">What did we do?</h2>
<p>The workshop followed the Openscapes Champions <a href="https://openscapes.github.io/series/">Lesson Series</a>, and we started off the first morning by setting expectations and the tone of the workshop with our Community Participation Guidelines and Openscapes Overview. We covered a lot in these two days, with over half (62%) of the time spent in smaller breakout groups or teams so that participants could focus on their own workflows and how the lesson topics pertain and apply.</p>
<br>
<center>
<a href="https://openscapes.github.io/series/index.html#day-in-person"> <img src="../../img/blog/openscapes-workshop-agenda.png" width="800px"></a>
<figcaption>
Agenda summary for the 2-day workshop. Hyperlinked slides available from the <a href="https://openscapes.github.io/series/index.html#day-in-person">Openscapes Champions Lesson Series</a>.
</figcaption>
</center>
<p><br></p>
<p>We concluded the workshop with participants sharing their “Pathways”, which are their plans for what to do moving forward. Overall, presentations all focused around social things like how to build open habits and momentum, rather than on technical things like which specific tools or workflows to learn. They discussed how their priorities going forward were about data workflows as a team (potentially as “<a href="https://www.openscapes.org/blog/2019/03/10/seaside-chats/">Seaside Chats</a>”), and building broader community and supporting each other locally. <!---As you might imagine, I was thrilled. ---></p>
<p>::: {.blockquote-blue} &gt; <em>“I think the greatest value of the workshop was the time set aside to discuss our path forward as a team. We were able to discuss directly and extensively about how we can bring this open energy to enhance our workflow. We will definitely be trying the seaside chats.”</em> <strong>— Post-workshop survey</strong></p>
<!---break--->
<p>::: {.blockquote-blue} &gt; <em>“Turkeytime chats are coming (named for our gang of turkeys that hangs around our building)”</em> <strong>— Post-workshop survey</strong></p>
<p>A few local meetups already exist that others know about and are welcome to attend, including the a Shiny meetup at NEFSC and the Quantfish woRkshops at UMass Dartmouth’s School for Marine Science &amp; Technology (SMAST). Further, there was discussion about having a local <a href="https://www.openscapes.org/blog/2019/05/02/tidy-tuesday-coding-club/">#TidyTuesday meetup</a> and starting a local <a href="https://rladies.org">RLadies</a> chapter in Cape Cod!</p>
<br>
<center>
<a href="https://twitter.com/ashleighjnovak/status/1233401091951333378"> <img src="../../img/blog/tweet-ashleighjnovak-workshop-life-changing.png" width="550px"></a>
<figcaption>
Tweet by <a href="https://twitter.com/ashleighjnovak"><span class="citation" data-cites="ashleighjnovak">@ashleighjnovak</span></a>.
</figcaption>
</center>
<p><br></p>
</section>
<section id="whats-next-for-participants-and-workshops" class="level2">
<h2 class="anchored" data-anchor-id="whats-next-for-participants-and-workshops">What’s next for participants and workshops?</h2>
<p>We’ll be following up and amplifying these teams in the coming months to share their progress, and we’re excited to share strategies and stories as they unfold. In just the week since the workshop, the Shiny Meetup has already met — with new members that have joined from the Openscapes workshop. They have scheduled meetups throughout the rest of the year, and are discussing broadening the focus beyond Shiny: perhaps tidyverse tutorials and even <a href="https://www.openscapes.org/blog/2019/05/02/tidy-tuesday-coding-club/">#TidyTuesday</a>. Woohoo Shiny Meetup Group!</p>
<p>If you are interested in hosting an Openscapes workshop, please contact us: <a href="mailto:hello@openscapes.org">hello@openscapes.org</a>.</p>
</section>
<section id="reflections" class="level2">
<h2 class="anchored" data-anchor-id="reflections">Reflections</h2>
<p>I am really pleased with how this workshop went. Since the Openscapes Champions program is about developing mindsets and habits around open data science and nurturing cultural change in science, it was designed as a five-month remote program (with low-time investment: three hours/month). With workshops, I was interested to see how much cultural change and Championing we could catalyze in just two days. And I’m convinced it worked as we’d hoped; the participants were really thoughtful and engaged and left the workshop with plans to create community within and beyond their teams.</p>
<div class="blockquote-blue">
<blockquote class="blockquote">
<p><em>“This was an empowering lesson in how we can improve our workflow, communication and morale, and work towards reproducible, efficient scientific methods.”</em> <strong>— Post-workshop survey</strong></p>
</blockquote>
</div>
<p>This workshop had a lot of firsts, things that were different from the previous Champions cohort:</p>
<ul>
<li>In person, not remote.</li>
<li>Local community and research domain: all teams are focused around the same topic (fisheries management), and were local to Cape Cod/New Bedford.</li>
<li>Not all teams had leads present; only 2 groups had leads present.</li>
</ul>
<p>There were definitely things I would like to improve for next time. Most obviously for me to reduce some of the redundancy in the slide decks; such redundancy was a nice refresher/emphasis when folks were seeing them every two weeks as part of the five-month structure but was pretty repetitive over a course of two days. Also, I found myself telling rather than showing for too much of the time. When I made the slides last year for the inaugural cohort, I had fewer examples to show. But now I have so many examples from Champions and I need to showcase like I do in my <a href="https://openscapes.org/media">conference talks</a>, <a href="https://docs.google.com/presentation/d/16nhQhW8sUz0XvpKX4Vgn0vpU7tesi6wXGwvLZF10r-8/edit?usp=sharing">for example at FORCE11</a>! So I’m excited to improve the course based on this experience and the feedback I’ve received.</p>
<p>Additionally, since not all teams had leads present, in the future we should focus time for teams not only to develop a plan for working with their teams about open data science, but strategies to also strengthen buy-in from leads. This is something that we should do regardless of whether team leads are present, really.</p>
<p>Thank you again to everyone who participated and are now Openscapes Champions!</p>
<!---
EDAB Team

Currently a majority of the branch is using GitHub and open science practices, but excited to instill practices deliberately with the whole team. To do so, they plan to start a series of informal “Seaside” chats separate from regularly  meeting to introduce topics and start team members thinking about them. To include folks with geographic distance between group, they'll incorporate live google doc-ing (roll call) in their meetings, and staring to using GitHub as a project management tool (Issues). 

Probably need a 2-3 day workshop together to formalize code of conduct and one-on-one onboarding especially for GitHub, and to create "how we work" documents (like the [Pinsky Lab's how_we_work documents](https://github.com/pinskylab/how_we_work). They are also trying to figure out the best workflow from Google Doc to Rmarkdown to include contributors outside of the team. 

--->
<br> <img src="../../img/blog/northeast_aliciamiller_square.jpg" width="500px">
<figcaption>
Photo by <a href="https://twitter.com/ALoMiller">Alicia Miller</a>.
</figcaption>
<p><br></p>
<p><br></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.openscapes\.org");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Openscapes is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attributions 4.0 International License</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This website is built with <i class="fa-solid fa-heart" title="a heart" aria-label="heart"></i> and <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>