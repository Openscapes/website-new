<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Em Markowitz, Josh London, Megsie Siple">
<meta name="dcterms.date" content="2022-04-07">

<title>Openscapes - A supportive forum for continued learning and collaboration at NOAA Fisheries Alaska</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/favicon/favicon_fullres.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: #333333;
      }

      .quarto-title-block .quarto-title-banner {
        color: #333333;
background: #F8D98F;
      }
</style>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/logo/openscapes_hex_badge.png" alt="A stylized landscape showing rolling hills in different shades of orange, with purple flowers along the ridgelines. Subtle gridlines on the hills and circle packing in the flowers give a nod to data in the environment." class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">HOME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../approach.html"> 
<span class="menu-text">APPROACH</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-about" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">ABOUT</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-about">    
        <li>
    <a class="dropdown-item" href="../../about.html">
 <span class="dropdown-text">ABOUT US</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../team.html">
 <span class="dropdown-text">OUR TEAM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../resources.html">
 <span class="dropdown-text">OPEN RESOURCES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../media.html">
 <span class="dropdown-text">MEDIA</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../code-of-conduct.html">
 <span class="dropdown-text">CODE OF CONDUCT</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-initiatives" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">INITIATIVES</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-initiatives">    
        <li>
    <a class="dropdown-item" href="../../initiatives.html">
 <span class="dropdown-text">ALL INITIATIVES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#champions-program">
 <span class="dropdown-text">CHAMPIONS PROGRAM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#nasa-openscapes">
 <span class="dropdown-text">NASA OPENSCAPES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#nmfs-openscapes">
 <span class="dropdown-text">NOAA FISHERIES OPENSCAPES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#mentors-framework">
 <span class="dropdown-text">MENTORS FRAMEWORK</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#pathways-to-open-science-program">
 <span class="dropdown-text">PATHWAYS TO OPEN SCIENCE PROGRAM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#reflections-program">
 <span class="dropdown-text">REFLECTIONS PROGRAM</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">BLOG</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-connect" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">CONNECT</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-connect">    
        <li>
    <a class="dropdown-item" href="../../connect.html">
 <span class="dropdown-text">CONNECT WITH US</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../events.html">
 <span class="dropdown-text">EVENTS</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/openscapes"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://fosstodon.org/@openscapes"> <i class="bi bi-mastodon" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:hello@openscapes.org"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page">
      <h1 class="title">A supportive forum for continued learning and collaboration at NOAA Fisheries Alaska</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">blog</div>
                <div class="quarto-category">champions</div>
                <div class="quarto-category">noaa-fisheries</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-page">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Em Markowitz, Josh London, Megsie Siple </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 7, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block column-page" id="quarto-document-content">





<p><em>In early 2022, 8 research teams from the</em> <em>National Oceanic and Atmospheric Administration (NOAA)’s</em> <em>Alaska Fisheries Science Center (AFSC) participated in the</em> <a href="https://github.com/Openscapes/2022-noaa-afsc">2022 AFSC Cohort</a> <em>of the <a href="https://www.openscapes.org/champions/">Openscapes Champions program</a>. Teams focused their energy on a range of important research issues supporting the AFSC mission including shellfish, fisheries, marine mammals, stock assessments, ecosystem indicators, trophic relationships, and food habits. This post is written by AFSC researchers Emily Markowitz, Resource Assessment &amp; Conservation Engineering (RACE), Josh London, Marine Mammal Laboratory (MML), and Megsie Siple, Resource Assessment &amp; Conservation Engineering (RACE).</em></p>
<p><em>Quick links:</em></p>
<ul>
<li><p><a href="https://openscapes.github.io/2022-noaa-afsc/"><em>https://openscapes.github.io/2022-noaa-afsc/</em></a> <em>- Cohort webpage</em></p></li>
<li><p><a href="https://github.com/nmfs-openscapes"><em>https://github.com/nmfs-openscapes</em></a> <em>- New NMFS GitHub Organization for coordinating and highlighting open science at NOAA NMFS, including a <a href="https://github.com/nmfs-openscapes/.github/wiki">wiki</a></em></p></li>
<li><p><a href="https://openscapes.github.io/events/#category:NOAA_Fisheries"><em>NOAA Fisheries Champions Cohorts</em></a> <em>- AFSC was the fifth NOAA Fisheries Champions Cohort since 2020</em></p></li>
</ul>
<hr>
<section id="afsc-champions-cohort-summary" class="level2">
<h2 class="anchored" data-anchor-id="afsc-champions-cohort-summary">AFSC Champions Cohort summary</h2>
<p>We worked with Jeremy Rusin to bring the Openscapes Champions Program to AFSC, which included 8 teams. The teams consisted of 41 AFSC employees from 5 AFSC divisions and the Alaska Regional Office. All of the teams developed their skills for improved analysis workflows, report writing and manuscript preparation, promoting a culture of inclusivity and collaboration, intentional investment in on- and off-boarding processes, better collaboration with academic and state governments, and integrated project management. All of this was achieved within the context of a growing expansion of open science within NOAA and the greater scientific community.&nbsp;</p>
<p>For each of the teams, the Openscapes training was just the beginning of a longer process. It is essential that AFSC leadership, division directors, and supervisors continue to offer the support, time, space, and enthusiasm as teams continue to develop skills and implement meaningful new practices. Participants in the training also recognize the need for additional training in specific skills and technologies (e.g., R, Python, Git and GitHub, advanced Google Workspace, reproducible analysis, collaborative writing). The AFSC can provide support for these needs by both identifying and funding training opportunities, and by encouraging scientists to allocate work time for expanding knowledge and expertise through free resources and self-directed training.</p>
<br>
<center>
<img src="../../img/blog/afsc-ecofoci.png" width="900px">
<figcaption>
An example of an Openscapes pathway written by the EcoFOCI team. The diagram summarizes how they used to share code, data, and files, and what their ongoing plans are for streamlining these processes and creating a team culture of openness and psychological safety.
</figcaption>
</center>
<p><br></p>
<p>Participants from the AFSC Openscapes cohort found the training transformative for their professional development. The training created a supportive forum for continued learning and collaboration across programs and divisions. As mentors for the AFSC Openscapes cohort, we are committed to the community of support and active learning environment established during the training. We feel confident in stating AFSC’s continued investment in Openscapes will establish AFSC scientists as leaders in open science, enhance collaborations across divisions and centers, ensure continuity of long-term research efforts, and improve scientific communication to all stakeholders. Everyone involved in the cohort looks forward to expanded Openscapes training opportunities in the near future.</p>
<p>The 2022 Openscapes cohort training took place over 5 remote calls from January 28 to March 11, 2022. Cohort calls covered:&nbsp;</p>
<p>1) setting the open science mindset and discussing psychological safety,&nbsp;</p>
<p>2) an introduction to publishing and project management on GitHub,&nbsp;</p>
<p>3) instituting team culture and data strategies (Tidy Data),&nbsp;</p>
<p>4) developing open communities and coding strategies (RMarkdown and Quarto), and&nbsp;</p>
<p>5) preparing a team pathway document to guide their open data science journey after the training.&nbsp;</p>
</section>
<section id="needs-for-continued-support" class="level2">
<h2 class="anchored" data-anchor-id="needs-for-continued-support"><strong>Needs for continued support</strong></h2>
<p>At the conclusion of the training, cohort members were encouraged to share their hopes for how the AFSC will continue to support and enhance open data science within our community. Their responses are summarized below.&nbsp;</p>
<ul>
<li><p>Support from supervisors and leadership for building this and similar approaches into other projects. Cohort members were interested to hear from AFSC leadership about how the Board of Directors, program leads, and supervisors plan to support staff in learning these new skills and applying them in the future.</p></li>
<li><p>Establishing best practices across science centers for sharing large, confidential datasets with collaborators without having collaborators interact directly with internal databases. These challenges are not unique to AFSC and would benefit from cross-center collaboration.</p></li>
<li><p>Allocating time for implementing open data science practices into performance plans by making the development of open science strategies and skills central to an employees’ priority activities and not an additional task relegated to ‘spare time’.&nbsp;</p></li>
<li><p>Including contractors in trainings (like Openscapes) in the future, so that research teams can participate in full.</p></li>
<li><p>Continued development of user-driven connections, communication, and collaborative learning between centers and between divisions at AFSC, including a focus on psychological safety.&nbsp;</p></li>
<li><p>Additional and specific technical training in RMarkdown, GitHub, RStudio Connect, public data sharing and team-building skills.</p></li>
</ul>
<br>
<center>
<img src="../../img/blog/afsc-cohort-zoom.png" width="900px">
<figcaption>
A zoom view of the 2022 AFSC Openscapes Cohort!
</figcaption>
</center>
<p><br></p>
</section>
<section id="meet-the-teams-and-some-of-their-work" class="level2">
<h2 class="anchored" data-anchor-id="meet-the-teams-and-some-of-their-work"><strong>Meet the teams and some of their work!</strong></h2>
<p><strong>The EcoFOCI Ecosystem Indicators Team</strong> aims to streamline, document, and standardize survey data analysis and annual reporting of EcoFOCI ecosystem indicators for ESRs and ESPs. This team includes Lauren Rogers (@larogers123), Jesse Lamb (@jesseflamb), Kelia Axler (@keliaaxler), Ali Deary (@AlisonDeary-NOAA), and David Kimmel (@kimmeld09). Before Openscapes, the team felt that tight timelines forced the team to work “quickly; not always carefully” and that the Openscapes training gave them space to explore easier, faster, and more consistent ways to prepare results. The team created a <a href="https://github.com/afsc-ecofoci">GitHub organization</a> to help them codify data and code, and more importantly, invest in culture change. The team heavily discussed establishing a culture of modeling openness, sharing early code, and asking for expertise. The team aptly phrased the latter as “hidden expertise,” as the expertise may exist, but on local computers and unbeknownst to their peers, forcing others to reinvent workflows and processes that were already established.&nbsp;</p>
<p><strong>The Marine Mammal Stock Assessments Team</strong> aims to streamline the development, review, and publication of the annual Alaska marine mammal stock assessment reports. This team includes Nancy Young (@nancycyoung), Brian Fadely (@BFadely), Rod Towell (@rtowell), Tony Orr (@Tony-Orr), and Erin Richmond (@erinrichmond). Through Openscapes, the team used GitHub, a new <a href="https://github.com/NMML">GitHub organization</a>, wikis, and R Markdown to establish processes for preparing data and analyses, tackle outdated version control workflows, and improve on and offboarding procedures. The team focused on developing one SAR in R Markdown as a proof of concept. The team found that seaside chats spurred open discussion and idea sharing and plan to keep meeting after Openscapes.&nbsp;</p>
<p><strong>The Groundfish Food Habits Team</strong> is focused on streamlining reproducible flow of code and data to provide food habits and model data to ESRs, ESPs, and stock assessments. This team includes Kerim Aydin (@kaydin-NOAA), Kirstin Holsman, Bridget Ferriss (@BridgetFerriss), Geoff Lang (@geofflang-NOAA), and Jonathan Reum. The team found that writing out the pathways document helped confirm next overarching steps for the group, that there were changes that needed to happen in their workflow, and that they needed to establish best practices. In an effort to foster a culture of reuse, the team started and tested out a <a href="https://github.com/NOAA-REEM/REEM_foodhabits">GitHub organization</a> and other avenues for collaboration so they can find the best platform forward for their unique team’s needs.&nbsp;</p>
<p><strong>The Shellfish Assessment Program Team</strong> is focused on 1) improving annual Tech Memo and 2) improving collaboration on bitter crab disease reports. This team included Mike Litzow (@mikelitzow), Jonathan Richar (@JonRichar-NOAA), Erin Fedewa (@Erin-Fedewa-NOAA), Leah Zacher (@LeahZacher-NOAA), and Jen Gardner (@JenniferGardner-NOAA). Through the Openscapes program, the team devised a plan for accessing raw data, to data wrangling, to preparing tech memo figures. With their new <a href="https://github.com/AFSC-Shellfish-Assessment-Program">GitHub organization</a>, they had the tools to start earnest discussions on how to document their work.&nbsp;</p>
<p><strong>The AFSC Stock Assessment Team</strong>’s overarching goal is to 1) create reproducible stock assessments and streamline reporting and presenting to Council bodies (specific project could be to take two assessments as examples: arrowtooth flounder and northern rockfish), 2) improve data to modeling to reporting for economic models, 3) create consistent fishery data sources across science and management, and 4) discuss of CFI implementation. This team includes Kalei Shotwell (@kshotwell), Meaghan Bryan (@mdbryan), Jim Ianelli (@jimianelli-NOAA), Ben Williams (@BenWilliams-NOAA), Chris Lunsford (@chrislunsford-NOAA), Alan Haynie (@alanhaynie-NOAA), and Anne Hollowed. Openscapes motivated the group to develop the Stock Modeling and Assessment Reproducibility Team (SMART), a supporting <a href="https://afsc-assessments.github.io/sop/">SOP</a>, and a <a href="https://github.com/afsc-assessments">GitHub organization</a>. SMART combines the two stock assessment teams and coordinates regular meetings and overarching goals for the effort. Through SMART, the team presented at the Informal Stock Assessment Advances in Methods meeting (March 1 and 3) on their openscapes work and conducted a survey in part to figure out where they could better support their peer stock assessors.&nbsp;</p>
<p><strong>Trophic Roles of Ice Seals RWP Team</strong> aims to develop a new Regional Work Plan-funded project to estimate the consumption of dominant prey by ice-associated seals in the Bering and Chukchi seas that would involve collaborators within and beyond NOAA. This team includes Stacie Hardy (@staciekozhardy), Peter Boveng (@PeterBoveng-NOAA), Heather Ziel (@zielhl), Michael Cameron (@MichaelCameron-NOAA), and Johanna Vollenweider (@JohannaPage-NOAA). The team felt that Openscapes created a space for members to collect thoughts, define a more efficient and thoughtful workflow ecosystem (e.g., tidyverse) to work within, and start planning how they can share what they learned and hope to implement with their larger group. The team worked on how their new <a href="https://github.com/TrophicRolesOfIceSeals">GitHub Organization</a> could help them work with external collaborators and instill version control as projects evolve. The team felt that working though this example project provided them with a universal framework that can be transferred to other existing projects.&nbsp;</p>
<p><strong>The Fisheries Monitoring Team</strong> is focused on improving the Annual Deployment Plan analytic and report production workflow and result sharing with council, stock assessors and the public. This team includes Craig Faunce (@CraigFaunce-NOAA), Phil Ganz (@philganz), Jennifer Cahalan (@JenCahalan-NOAA), and Geoff Mayhew (@geoffmmayhew). Galvanized by Openscapes’ GitHub tutorial and an endeavor to streamline the onboarding and offboarding process, the team has begun moving much of their dataset wrangling scripts and issue tracking to GitHub. The team has also begun developing standard datasets for everyone to use in easy to access locations.&nbsp;</p>
<p><strong>The Midwater Pollock Assessment Team</strong> aims to create a reproducible and transparent abundance analysis and reporting process for the management of midwater walleye pollock data in Alaska. This team includes Mike Levine (@mike-levine), Sarah Stienessen (@sstienessen), Nate Lauffenburger (@nlauffenburger), Sam Urmy (@ElOceanografo), and Abigail McCarthy (@abigailatsea). This team used their time with Openscapes to explore the best project management platform for their team and survey preparation, realizing that trello and smartsheets gave the team the flexibility they needed. The team also began automating cruise reports with R Markdown. The team next plans on providing a demonstration and presentation to the rest of their larger group as they start planning for their summer survey.&nbsp;</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.openscapes\.org");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Openscapes is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attributions 4.0 International License</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This website is built with <i class="fa-solid fa-heart" title="a heart" aria-label="heart"></i> and <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>