<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Molly Stevens, Adyan Rios, Erica Rule">
<meta name="dcterms.date" content="2022-09-30">

<title>Aligning mission around collaborative practices, with researchers, supervisors, and IT</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/favicon/favicon_fullres.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<style>
    .quarto-title-block .quarto-title-banner,
    .quarto-title-block .quarto-title-banner h1,
    .quarto-title-block .quarto-title-banner h2,
    .quarto-title-block .quarto-title-banner h3,
    .quarto-title-block .quarto-title-banner h4,
    .quarto-title-block .quarto-title-banner h5,
    .quarto-title-block .quarto-title-banner h6
    {
      color: #333333;
background: #F8D98F;
    }
    </style>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/logo/openscapes_hex_badge.png" alt="A stylized landscape showing rolling hills in different shades of orange, with purple flowers along the ridgelines. Subtle gridlines on the hills and circle packing in the flowers give a nod to data in the environment." class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">HOME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../approach.html" rel="" target="">
 <span class="menu-text">APPROACH</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-about" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">ABOUT</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-about">    
        <li>
    <a class="dropdown-item" href="../../about.html" rel="" target="">
 <span class="dropdown-text">ABOUT US</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../team.html" rel="" target="">
 <span class="dropdown-text">OUR TEAM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../resources.html" rel="" target="">
 <span class="dropdown-text">OPEN RESOURCES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../media.html" rel="" target="">
 <span class="dropdown-text">MEDIA</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../code-of-conduct.html" rel="" target="">
 <span class="dropdown-text">CODE OF CONDUCT</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-initiatives" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">INITIATIVES</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-initiatives">    
        <li>
    <a class="dropdown-item" href="../../initiatives.html" rel="" target="">
 <span class="dropdown-text">ALL INITIATIVES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#champions-program" rel="" target="">
 <span class="dropdown-text">CHAMPIONS PROGRAM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#nasa-openscapes" rel="" target="">
 <span class="dropdown-text">NASA OPENSCAPES</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#mentors-framework" rel="" target="">
 <span class="dropdown-text">MENTORS FRAMEWORK</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#pathways-to-open-science-program" rel="" target="">
 <span class="dropdown-text">PATHWAYS TO OPEN SCIENCE PROGRAM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../initiatives.html#reflections-program" rel="" target="">
 <span class="dropdown-text">REFLECTIONS PROGRAM</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html" rel="" target="">
 <span class="menu-text">BLOG</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-connect" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">CONNECT</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-connect">    
        <li>
    <a class="dropdown-item" href="../../connect.html" rel="" target="">
 <span class="dropdown-text">CONNECT WITH US</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../events.html" rel="" target="">
 <span class="dropdown-text">EVENTS</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/openscapes" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://fosstodon.org/@openscapes" rel="" target=""><i class="bi bi-mastodon" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:hello@openscapes.org" rel="" target=""><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page">
      <h1 class="title">Aligning mission around collaborative practices, with researchers, supervisors, and IT</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">blog</div>
                <div class="quarto-category">champions</div>
                <div class="quarto-category">noaa-fisheries</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Molly Stevens, Adyan Rios, Erica Rule </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">September 30, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block column-page" id="quarto-document-content">




<p><em>Note from Openscapes: This summer, we led a 2-month Champions Cohort with the National Oceanic and Atmospheric Administration (NOAA) Fisheries at the Southeast Fisheries Science Center, working with 40 staff and affiliates. These participants were from research teams, supervisors, and IT, and were interested in exploring new approaches to collaborating around complex workflows required in analyses and reports involving diverse teams, data flows, and analyses.</em></p>
<p><em>This Cohort was organized and coordinated by Adyan Rios, Molly Stevens, and Erica Rule, following Adyan‚Äôs participation in the <a href="https://www.openscapes.org/blog/2021/11/12/noaa-nmfs-champions/">2021 Fall NMFS Cohort</a> and her leadership since, including leading Surf Sessions, <a href="https://www.fisheries.noaa.gov/feature-story/meet-adyan-rios-research-ecologist">feature stories</a>, and contributing to broader <a href="https://nmfs-openscapes.github.io">NMFS-Openscapes</a> efforts including <a href="https://nmfs-openscapes.github.io/media.html#presentations-for-nmfs-leadership">presenting to NMFS leadership</a>. This post focuses on what the cohort setup and participants achieved.&nbsp; See <a href="https://openscapes.org/champions" class="uri">https://openscapes.org/champions</a> for more background on the Champions program.</em></p>
<hr>
<section id="sefsc-cohort-background" class="level2">
<h2 class="anchored" data-anchor-id="sefsc-cohort-background">SEFSC Cohort background</h2>
<p>Our Cohort included a diverse spread of roles and responsibilities at SEFSC, including researchers, supervisors, and IT. We worked hard engaging folks beforehand, to introduce the opportunity, share outcomes from previous cohorts, help them think through joining with their team or as an individual, and answer questions. During this engagement period, we were also sharing impact stories with <a href="https://nmfs-openscapes.github.io/media.html#presentations-for-nmfs-leadership">NMFS leadership</a>, which helped us prepare for these conversations. Ultimately, we had 40 staff and affiliates in our summer 2022 SEFSC cohort.&nbsp;</p>
<p>Adyan and Molly are Openscapes Mentors, along with Eli Holmes from NOAA‚Äôs Northwest Fisheries Science Center. We contributed during the Cohort by facilitating and answering questions, as well as assisting teams and screensharing during coworking sessions.&nbsp;</p>
</section>
<section id="what-did-the-participants-achieve" class="level2">
<h2 class="anchored" data-anchor-id="what-did-the-participants-achieve">What did the participants achieve?</h2>
<p>This cohort was an opportunity for NOAA staff to explore and practice open data science approaches, but it was also an opportunity to meet and build relationships with folks across different parts of SEFSC, which has a wide geographic spread. Additionally, many folks have onboarded to NOAA during the ongoing pandemic and have not had the opportunity to meet many colleagues. It was exciting to see participants find alignment across NOAA missions, software, and supporting each other. Discussion topics were broad and also focused on the use of GitHub and Quarto for shared documentation. It was really inspiring to hear shared progress forward for more open and inclusive data science across the center.&nbsp;</p>
<p>Many topics/themes that resonated with the 2022 SEFSC Summer Cohort overlapped and reinforced each other. SEFSC has recently undergone a <a href="https://content.govdelivery.com/accounts/USNOAAFISHERIES/bulletins/2ffb4ab">Center-Wide Realignment</a>, and many staff have extremely limited time during this transition, resulting in cautious voluntary enlistment to additional tasks and training. With the 2022 Summer Cohort, there was a resounding sense of camaraderie and dedication to putting in the effort now to improve workflows for the future. Here are a few examples from our Pathways Presentations during our final session:&nbsp;</p>
<section id="using-github-as-outward-facing-and-internal-communication" class="level3">
<h3 class="anchored" data-anchor-id="using-github-as-outward-facing-and-internal-communication">Using GitHub as outward-facing and internal communication</h3>
<p>SEFSC‚Äôs Sustainable Fisheries Division (SFD) coordinates and conducts stock assessments involving many external partners throughout the southeast region, including 8 states, 4 US territories, and 3 regional management bodies. This complexity requires both the streamlined dissemination of assessment details and a dedicated location for communicating final assessment decisions internally. Skyler Sagarese participated in the <a href="https://www.openscapes.org/blog/2021/11/12/noaa-nmfs-champions/">2021 Fall NMFS Cohort</a> and built a GitHub page to track assessment details for coordination between the lead analyst and data compiler. This format was expanded and improved upon during the 2022 Summer SEFSC Cohort to facilitate collaboration between 2 SEFSC divisions and 4 branches involved in stock assessments for internal communications and distribution of details to external data providers for 2 Operational SEDAR Assessments - see figure below. The more staff that are trained to use these tools, the more streamlined and efficient our workflows become, improving employee morale and increasing assessment throughput.</p>
<br>
<center>
<a><img src="../../img/blog/sefsc-sfd-github.png" width="600px" alt="alt txt"></a>
<figcaption>
Example screenshot from the Sustainable Fisheries Division Assessment Workflow Team showing how they use GitHub for both an outward facing page and internal issue / progress tracking üòç
</figcaption>
</center>
<p><br></p>
</section>
<section id="creating-and-documenting-a-communication-plan" class="level3">
<h3 class="anchored" data-anchor-id="creating-and-documenting-a-communication-plan">Creating and documenting a communication plan</h3>
<p>The Biology and Life History Branch within Fisheries, Assessment, Technology, and Engineering Support Division (FATES-BLH) documented their communication plan which acknowledged the areas where they are successful and identified areas for improvement (see figures below). Their branch has weekly meetings to strategize and track progress in real time, but is working to improve documentation of resulting products for easy and reproducible assessment inputs throughout SEFSC. Their team has been collaborating with SFD to receive assessment details through GitHub pages as well as collaborating within version-controlled programs, removing task redundancy and resulting in streamlined workflows. They are also working to document institutional knowledge and species-specific data issues, where the distribution of these details will vastly improve analyses and data inputs for stock assessments in the southeast. With SEFSC realignment, branches are spread throughout multiple cities in the southeast region, necessitating efficient communication and workflows.</p>
<br>
<center>
<a><img src="../../img/blog/sefsc-fates-commsplan.png" width="600px" alt="alt txt"></a>
<figcaption>
FATES-BLH Branch team communication plan which highlights current successes and areas for improvement.
</figcaption>
</center>
<p><br></p>
<p><br></p>
<br>
<center>
<a><img src="../../img/blog/sefsc-fates-pathway.png" width="600px" alt="alt txt"></a>
<figcaption>
FATES-BLH Openscapes team in their new pathway!&nbsp; SEFSC Staff are spread throughout multiple cities in the southeast region, but Openscapes has facilitated streamlined communication for all staff.
</figcaption>
</center>
<p><br></p>
</section>
<section id="planning-improvements-for-reports" class="level3">
<h3 class="anchored" data-anchor-id="planning-improvements-for-reports">Planning improvements for reports</h3>
<p>Reports and analyses for Integrated Ecosystem Assessment (IEA) are often recurring or require edits to data inputs throughout the process. These workflows are spread throughout individuals‚Äô Google folders and collaborators have been communicating via multiple email threads.&nbsp; The Openscapes Cohort helped this team to envision a better future with open science tools including data extraction code stored on GitHub that feeds directly into Quarto reports (see figure below). They also envision tracking current data versions with auto-generated date tags, an improvement over many versions of the same product in individual workflows that are difficult to track. The IEA team documented this process and improvements for the SEFSC 2022 Summer Cohort; many teams at SEFSC are working through similar issues and striving towards the highest quality data and most efficient generation of reports. All teams found common ground in this effort, highlighting positive impacts of open science practices that facilitate inspiration, expand collaboration, and synergize our diverse expertise across the Center.</p>
<br>
<center>
<a><img src="../../img/blog/sefsc-iea-pathway.png" width="600px" alt="alt txt"></a>
<figcaption>
Integrated Ecosystem Assessment team pathway towards improved data quality through version control, streamlined communications, and automated reports.
</figcaption>
</center>
<p><br></p>
</section>
</section>
<section id="closing-onward" class="level2">
<h2 class="anchored" data-anchor-id="closing-onward">Closing / Onward</h2>
<p>The Summer SEFSC Cohort has just concluded, and yet next week the Fall SEFSC Cohort kicks off! We are thrilled to have a second cohort of 40 additional participants. The interest from staff and the support from leadership emphasizes that SEFSC is committed to providing professional development opportunities that empower staff with the tools and skills to lead innovation and establish best practices in their work.&nbsp;</p>
<p>The Fall SEFSC Cohort is one of FOUR Cohorts this fall with NOAA NMFS that we are leading concurrently. This is possible because of the growing grassroots Mentors community across NMFS that is practicing and championing open science, including:</p>
<ul>
<li>AFSC: Emily Markowitz, Josh London, Megsie Siple</li>
<li>NEFSC: Andy Jones, Scott Large</li>
<li>NWFSC: Eli Holmes, Eric Ward</li>
<li>PIFSC: Amanda Bradford, Juliette Verstaen</li>
<li>SEFSC: Adyan Rios, Molly Stevens</li>
<li>SWFSC: Kevin Stierhoff</li>
</ul>
<p>Learn more at <a href="https://nmfs-openscapes.github.io">NMFS-Openscapes</a> and the <a href="https://nmfs-opensci.github.io/ResourceBook/">NMFS OpenSci Resource Book</a>&nbsp;</p>
<p>We‚Äôre excited and will have many more stories of finding common momentum for open science!</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Openscapes is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attributions 4.0 International License</a></div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This website is built with <i class="fa-solid fa-heart" title="a heart" aria-label="heart"></i> and <a href="https://quarto.org/">Quarto</a></div>
  </div>
</footer>



</body></html>